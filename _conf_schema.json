{
    "style_path": {
        "description": "pillowmd样式目录路径（本地），留空则使用默认样式",
        "type": "string",
        "hint": "例如 C:\\styles\\my-style 或 /data/styles/default",
        "default": ""
    },
    "auto_convert_mode": {
        "description": "自动转图模式",
        "type": "string",
        "options": ["disabled", "length", "regex", "mix"],
        "hint": "disabled: 禁用自动转图; length: 按长度判断; regex: 按正则表达式判断; mix: 同时启用长度与正则判断",
        "default": "length"
    },
    "intercept_mode": {
        "description": "拦截模式",
        "type": "string",
        "options": ["pre_send", "llm"],
        "hint": "pre_send: 拦截所有发送前消息; llm: 仅拦截LLM响应消息",
        "default": "pre_send"
    },
    "md2img_len_limit": {
        "description": "长度模式：LLM输出超过该值时自动转图",
        "type": "int",
        "hint": "仅在auto_convert_mode为length或mix时生效",
        "default": 100
    },
    "regex_pattern": {
        "description": "正则模式：匹配该正则表达式的内容将自动转图",
        "type": "text",
        "hint": "仅在auto_convert_mode为regex或mix时生效，默认匹配常见Markdown和LaTeX语法",
        "default": "(```[^\\n]*\\n[\\s\\S]*?\\n```$)|(^\\$\\$[\\s\\S]*?\\$\\$$)|(\\$(?:\\\\.|[^\\n$])+\\$)|(^#{1,6}\\s+\\S.+$)|(^>\\s+\\S.+$)|(^\\s{0,3}(?:[-*+])\\s+\\S.+$)|(^\\s{0,3}\\d+\\.\\s+\\S.+$)|(^\\|[^\\n]*\\|[^\\n]*$)|(!\\[[^\\]]*\\]\\([^)]+\\)|\\[[^\\]]+\\]\\([^)]+\\))|(^\\s{0,3}(?:-{3,}|_{3,}|\\*{3,})\\s*$)"
    },
    "extract_links_and_code": {
        "description": "是否在转图后单独发送链接和代码块",
        "type": "bool",
        "hint": "开启后会解析LLM输出中的链接和代码块，在发送图片后单独发送文本便于复制",
        "default": false
    },
    "extract_links": {
        "description": "提取链接",
        "type": "bool",
        "hint": "是否提取并单独发送链接（需要extract_links_and_code开启）",
        "default": true
    },
    "extract_code_blocks": {
        "description": "提取代码块",
        "type": "bool",
        "hint": "是否提取并单独发送代码块（需要extract_links_and_code开启）",
        "default": true
    },
    "extract_inline_code": {
        "description": "提取行内代码",
        "type": "bool",
        "hint": "是否提取并单独发送行内代码（需要extract_links_and_code开启）",
        "default": false
    },
    "image_cache_ttl": {
        "description": "图片缓存保留时间（秒）",
        "type": "int",
        "hint": "为避免并发误删，延迟清理临时图片，默认180秒",
        "default": 180
    }
}
